(()=>{"use strict";const e="c9d9f44469f048ce0b742fae1252c784",t=async function(t){const n=`https://api.openweathermap.org/geo/1.0/direct?q=${t}&limit=1&appid=${e}`,a=await fetch(n),i=await a.json();try{const t=`https://api.openweathermap.org/data/2.5/onecall?lat=${i[0].lat}&lon=${i[0].lon}&exclude=minutely,hourly&appid=${e}&units=metric`,n=await fetch(t),a=await n.json();return{getName:e=>i[0].name,getWeather:e=>a.daily[e].weather[0],getTemp:e=>a.daily[e].temp,getWind:e=>a.daily[e].wind_speed,getPressure:e=>a.daily[e].pressure,getHumidity:e=>a.daily[e].humidity,getFeelsLike:e=>a.daily[e].feels_like.day,getCurrentTemp:()=>a.current.temp,getCurrentFeelsLike:()=>a.current.feels_like,getCurrentHumidity:()=>a.current.humidity,getCurrentWindSpeed:()=>a.current.wind_speed,getCurrentWeather:()=>a.current.weather[0],getCurrentPressure:()=>a.current.pressure}}catch{return"err"}},n=function(e,t){const n=document.createElement("div");n.classList.add("flexbox");var a=new Date;a.setDate(a.getDate()+e),a=a.toString().substring(0,15);const i=t.getWeather(e).icon,s=t.getTemp(e).day,r=t.getWeather(e).main;return n.innerHTML=`\n        <p class="date"> ${a} </p>\n        <img class="icon" src="https://openweathermap.org/img/wn/${i}@2x.png">\n        <p class="temperatureWeek"> ${s} </p>\n        <p class="descriptionWeek"> ${r} </p>\n    \t`,n},a=function(e){const t=document.createElement("div");t.classList.add("weatherPage","flexbox");const a=function(e){const t=e.getName(),n=e.getCurrentTemp(),a=e.getTemp(0),i=e.getCurrentWeather().main,s=e.getCurrentWindSpeed(),r=e.getCurrentPressure(),d=e.getCurrentHumidity(),c=e.getCurrentFeelsLike(),l=e.getCurrentWeather().icon,o=document.createElement("div");return o.classList.add("todayInfo","flexbox"),o.innerHTML=`\n\t<h2 class="cityName"> ${t} </h2>\n      <div class="weatherTemp flexbox">\n        <div class="todayWeather flexbox">\n          <p id="weatherDescription"> ${i} </p>\n          <img src="https://openweathermap.org/img/wn/${l}@2x.png">\n        </div>\n        <div class="todayTemperature flexbox"> \n          <p id="temperature"> ${n} </p>\n        </div>\n      </div>\n      <div class="otherInfo flexbox">\n      \t<div class="flexbox">\n          <p class="label"> Min Temp </p>\n          <p id="minTemp"> ${a.min} </p> \n        </div>\n        <div class="flexbox">\n          <p class="label"> Max Temp </p>\n          <p id="maxTemp"> ${a.max} </p> \n        </div>\n        <div class="flexbox">\n          <p class="label"> Wind </p>\n          <p id="wind"> ${s} </p> \n        </div>\n        <div class ="flexbox">\n          <p class="label"> Humidity </p>\n          <p id="humdity"> ${d}</p>\n        </div>\n        <div class="flexbox">\n          <p class="label"> Feels Like </p>\n          <p id="feelsLike">${c}</p>\n        </div>\n        <div class="flexbox">\n          <p class="label"> Pressure </p>\n          <p id="pressure">${r}</p>\n        </div> \n\t`,o}(e),i=function(e){const t=document.createElement("div");t.classList.add("weekInfo","flexbox");for(var a=1;a<8;a++){var i=n(a,e);t.appendChild(i)}return t}(e);t.appendChild(a),t.appendChild(i),document.getElementById("content").appendChild(t)},i=function(e){var t;const n=e.getCurrentWeather().icon;t=["01d","01n"].includes(n)?"sunny":["02d","02n","03d","03n","04d","04n"].includes(n)?"clouds":["09d","09n","10d","10n","11d","11n"].includes(n)?"rain":["13d","13n"].includes(n)?"snow":"mist";const a=document.createElement("video");a.autoplay=!0,a.loop=!0,a.muted=!0,a.classList.add("backgroundVideo"),a.innerHTML=`<source src="./assets/${t}.mp4">`,console.log(a),document.getElementById("content").appendChild(a)};!function(){const e=document.createElement("div");e.classList.add("header","flexbox");const n=document.createElement("h1");n.classList.add("name"),n.innerHTML="WeatherWhat";const s=document.createElement("form");s.noValidate="true",s.classList.add("inputForm"),s.innerHTML='\n        <input type="text" class="cityInput">\n        <input type="submit">\n\t',s.onsubmit=async function(e){e.preventDefault();const n=document.getElementsByClassName("cityInput")[0].value,s=await t(n),r=document.getElementsByClassName("cityInput")[0];"err"!=s?(r.setCustomValidity(""),document.getElementsByClassName("weatherPage")[0].remove(),document.getElementsByClassName("backgroundVideo")[0].remove(),a(s),i(s)):(r.setCustomValidity(`Sorry, ${n} is not a recognized city name`),r.reportValidity())},e.appendChild(n),e.appendChild(s),document.getElementById("content").appendChild(e)}(),async function(){const e=await t("singapore");a(e),i(e)}()})();